/**
 * skylark-domx-brofxwser - The skylark fx library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer"],function(i,t,n,o,s,e){var a,r,c,l,p,d,m,u=n.normalizeCssEvent("AnimationEnd"),g=n.normalizeCssEvent("TransitionEnd"),f=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,h=n.css3PropPrefix+"transform",y={};function v(i,n,v,b,T,k){var P,w,z,B={},I=[],E="",j=this,O=!1,F=!1;if(t.isPlainObject(v)&&(b=v.easing,T=v.complete,k=v.delay,v=v.duration),t.isString(v)&&(v=C.speeds[v]),void 0===v&&(v=C.speeds.normal),v/=1e3,C.off&&(v=0),t.isFunction(b)?(T=b,eace="swing"):b=b||"swing",k?k/=1e3:k=0,t.isString(n))B[a]=n,B[r]=v+"s",B[c]=b,w=u;else{for(P in n){var S=n[P];if(f.test(P))E+=P+"("+S+") ";else{if("scrollTop"===P&&(F=!0),"clip"==P&&t.isPlainObject(S)){if(B[P]="rect("+S.top+"px,"+S.right+"px,"+S.bottom+"px,"+S.left+"px)","auto"==s.css(i,"clip")){var X=o.size(i);s.css(i,"clip","rect(0px,"+X.width+"px,"+X.height+"px,0px)"),!0}}else B[P]=S;I.push(t.dasherize(P))}}w=g}return E&&(B[h]=E,I.push(h)),v>0&&t.isPlainObject(n)&&(B[l]=I.join(", "),B[p]=v+"s",B[m]=k+"s",B[d]=b),z=function(t){if(O=!0,t){if(t.target!==t.currentTarget)return;e.off(t.target,w,z)}else e.off(i,u,z);s.css(i,y),T&&T.call(this)},v>0&&(e.on(i,w,z),t.debounce(function(){O||z.call(j)},1e3*(v+k)+25)()),i.clientLeft,s.css(i,B),v<=0&&t.debounce(function(){O||z.call(j)},0)(),F&&x(i,n.scrollTop,v,T),this}function b(i,n,o){return s.show(i),n&&(!o&&t.isFunction(n)&&(o=n,n="normal"),s.css(i,"opacity",0),v(i,{opacity:1,scale:"1,1"},n,o)),this}function T(i,n,o){return n?(!o&&t.isFunction(n)&&(o=n,n="normal"),v(i,{opacity:0,scale:"0,0"},n,function(){s.hide(i),o&&o.call(i)})):s.hide(i),this}function x(i,n,o,s){var e=parseInt(i.scrollTop),a=0,r=1e3*o/5,c=parseInt(n),l=setInterval(function(){++a<=r&&(i.scrollTop=(c-e)/r*a+e),a>=r+1&&(clearInterval(l),s&&t.debounce(s,1e3)())},5)}function k(i,t,n,o,s){return v(i,{opacity:n},t,o,s),this}function P(i,t,n,o){var e=s.css(i,"opacity");return e>0?s.css(i,"opacity",0):e=1,s.show(i),k(i,t,e,n,o),this}function w(i,n,o,e){var a,r=s.css(i,"opacity"),c={};return t.isPlainObject(n)?(c.easing=n.easing,c.duration=n.duration,a=n.complete):(c.duration=n,e?(a=e,c.easing=o):a=o),c.complete=function(){s.css(i,"opacity",r),s.hide(i),a&&a.call(i)},k(i,c,0),this}function z(i,t,n){var o=s.css(i,"position");b(i),s.css(i,{position:"absolute",visibility:"hidden"});var e=s.css(i,"margin-top"),a=s.css(i,"margin-bottom"),r=s.css(i,"padding-top"),c=s.css(i,"padding-bottom"),l=s.css(i,"height");return s.css(i,{position:o,visibility:"visible",overflow:"hidden",height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0}),v(i,{height:l,marginTop:e,marginBottom:a,paddingTop:r,paddingBottom:c},{duration:t,complete:function(){n&&n.apply(i)}}),this}function B(i,t,n){if(o.height(i)>0){s.css(i,"position");var e=s.css(i,"height"),a=s.css(i,"margin-top"),r=s.css(i,"margin-bottom"),c=s.css(i,"padding-top"),l=s.css(i,"padding-bottom");s.css(i,{visibility:"visible",overflow:"hidden",height:e,marginTop:a,marginBottom:r,paddingTop:c,paddingBottom:l}),v(i,{height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0},{duration:t,queue:!1,complete:function(){T(i),s.css(i,{visibility:"visible",overflow:"hidden",height:e,marginTop:a,marginBottom:r,paddingTop:c,paddingBottom:l}),n&&n.apply(i)}})}return this}function C(){return C}return y[a=n.normalizeCssProperty("animation-name")]=y[r=n.normalizeCssProperty("animation-duration")]=y[n.normalizeCssProperty("animation-delay")]=y[c=n.normalizeCssProperty("animation-timing-function")]="",y[l=n.normalizeCssProperty("transition-property")]=y[p=n.normalizeCssProperty("transition-duration")]=y[m=n.normalizeCssProperty("transition-delay")]=y[d=n.normalizeCssProperty("transition-timing-function")]="",t.mixin(C,{off:!1,speeds:{normal:400,fast:200,slow:600},animate:v,emulateTransitionEnd:function(i,t){var o=!1;return e.one(i,"transitionEnd",function(){o=!0}),setTimeout(function(){o||e.trigger(i,n.support.transition.end)},t),this},fadeIn:P,fadeOut:w,fadeTo:k,fadeToggle:function(i,t,n,o){return s.isInvisible(i)?P(i,t,easing,callback):w(i,t,easing,callback),this},hide:T,scrollToTop:x,slideDown:z,slideToggle:function(i,t,n){return 0==o.height(i)?z(i,t,n):B(i,t,n),this},slideUp:B,show:b,toggle:function(i,t,n){return s.isInvisible(i)?b(i,t,n):T(i,t,n),this}}),i.attach("domx.fx",C)});
//# sourceMappingURL=sourcemaps/fx.js.map
